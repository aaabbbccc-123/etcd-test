
# etcd 集群测试计划

## 测试中使用的 假设数据
1. 系统需要支持的容量 : 2000 个服务, 每个服务 5个节点
2. 配置数据更新速率 : 平均 每分钟 10 个更新. 高峰 每秒1个更新
3. 每个服务平均 50 个 配置项。 需要的存储 10k.

## 测试部署

需要在每个节点运行 etcd-proxy. 测试过程中，集群的配置需要使用etcd-proxy的地址。

## 压力测试

### 最大支持的更新速率， 需要逐渐增加更新速率，直到系统不能保持更新。
### 最高读取速率。
### 读取速度。

## 系统测试
使用假设数据， 测试不同情况下集群的反应。

### 不同延迟下更新的反应。10ms, 100ms, 500 ms etc
### 不同带宽下更新的反应。1M, 10M, etc
### 一个机房里失去一个节点的反应
### 失去一个机房里所有节点的反应，（机房里其他服务还在执行）

